<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no,maximum-scale=1.0">
  <title>Ryzn Portal - Versione Dati Massivi</title>
  <style>
    /* 1. Stili Base e Colori */
    :root {
        --color-primary: #6A5ACD;
        --color-background: #0A0A0A;
        --color-card: #1C1C1E;
        --color-text-main: #FFFFFF;
        --color-text-secondary: #AAAAAA;
        --color-success: #34C759;
        --color-error: #FF3B30;
        --color-winter: #4A90E2;
        --color-chart-2: #FFD60A;
        --color-chart-3: #FF2D55;
        --color-chart-4: #00A9FF; /* Nuovo Blu Chiaro */
    }

    body {
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
        background: var(--color-background);
        color: var(--color-text-main);
        padding-bottom: 70px;
    }

    /* Miglioramento Spaziatura Titoli e Sezioni */
    h2 {
        color: var(--color-text-main);
        font-size: 1.8em;
        font-weight: 700;
        padding-top: 10px; /* Spazio sopra il titolo */
        margin-bottom: 25px; /* Spazio sotto il titolo */
        border-bottom: 1px solid #2C2C2E; /* Linea leggera per separazione */
        padding-bottom: 5px;
    }
    h3 {
        color: var(--color-primary);
        font-size: 1.2em;
        margin-top: 5px; /* Leggero spazio sopra il sottotitolo */
        margin-bottom: 10px;
    }
    
    /* 2. Gestione Schermate */
    .screen {display:none;padding:20px;}
    .screen.active {display:block;}

    /* 3. Stili Login e Pulsanti */
    .login-box {text-align:center;margin-top:25%;}
    .login-input {padding: 12px;width: 80%;border-radius: 12px;border: 1px solid #333;margin-bottom: 15px;background: var(--color-card);color: var(--color-text-main);font-size: 1.1em;}
    .btn {display: block;width: 85%;margin: 15px auto;padding: 15px;border: none;border-radius: 14px;font-weight: bold;cursor: pointer;transition: background 0.2s;}
    .btn-primary {background: var(--color-primary);color: var(--color-text-main);}
    .btn-secondary {background: var(--color-card);color: var(--color-text-main);}
    
    /* Countdown Grafico Login */
    .countdown-container {padding: 15px;border-radius: 14px;background: rgba(30, 30, 30, 0.7);width: 85%;margin: 40px auto 20px;box-shadow: 0 4px 10px rgba(0,0,0,0.5);}
    .countdown-text {color: var(--color-text-secondary);font-size: 0.9em;margin-bottom: 10px;}
    #countdown {font-size: 2.2em;font-weight: 900;color: var(--color-winter);letter-spacing: 1px;}
    
    /* 4. Stili Schede Dati (Card iOS) */
    .data-card {background: var(--color-card);padding: 15px;border-radius: 14px;margin-bottom: 20px; /* Pi√π spazio sotto le card */box-shadow: 0 5px 15px rgba(0,0,0,0.3);}
    .metric {font-size: 1.8em;font-weight: bold;color: var(--color-primary);margin: 5px 0;}
    .sub-metric {font-size: 0.9em;color: var(--color-text-secondary);}

    /* 5. Grafici */
    .chart-container {height: 120px;margin: 15px 0 5px;position: relative;}
    .pie-chart-sim {width: 100px;height: 100px;border-radius: 50%;margin: 10px auto;}
    .pie-legend {list-style: none;padding: 0;margin: 0;font-size: 0.9em;}
    .pie-legend li {margin-bottom: 5px;display:flex;align-items:center;}
    .legend-color {width: 10px;height: 10px;border-radius: 3px;margin-right: 8px;}
    
    /* Line Chart Simulation */
    .line-chart-sim {height: 100%;width: 100%;position: absolute;top: 0;left: 0;border-bottom: 1px solid #333;}
    .line-segment {position: absolute;width: 100%;height: 100%;clip-path: polygon(0% 90%, 20% 70%, 40% 50%, 60% 75%, 80% 40%, 100% 60%, 100% 100%, 0% 100%);background: linear-gradient(to top, rgba(106, 90, 205, 0.4), transparent);}
    
    /* 6. Cronologie e Tabelle */
    .timeline-item {border-left: 3px solid var(--color-primary);padding-left: 15px;margin-left: 5px;position: relative;margin-bottom: 18px;}
    .timeline-item:before {content: '';position: absolute;left: -8px;top: 0;width: 10px;height: 10px;border-radius: 50%;background: var(--color-primary);margin-top: 3px;}
    .table-data {width:100%;border-collapse:collapse;margin-top:10px;}
    .table-data th, .table-data td {padding:8px 0;text-align:left;border-bottom:1px solid #2C2C2E;font-size:0.9em;}
    
    /* 7. Overlay Countdown Grande */
    #overlayLegacyCountdown {position:fixed;top:0;left:0;width:100%;height:100%;background: rgba(0,0,0,.95);display:none;flex-direction: column;justify-content:center;align-items:center;z-index:10000;text-align: center;}
    .legacy-box {background: var(--color-card);padding: 40px 20px;border-radius: 20px;width: 90%;max-width: 400px;box-shadow: 0 10px 30px rgba(0,0,0,0.8);}
    #countdownLegacy {font-size: 3em;font-weight: 900;color: var(--color-winter);margin: 20px 0;letter-spacing: 2px;}
    .legacy-close-btn {margin-top: 30px;width: 90%;}
    
    /* 8. Stili Tab Bar */
    .tab-bar {
        position:fixed;bottom:0;left:0;width:100%;height: 65px;
        background: rgba(28, 28, 30, 0.9);
        backdrop-filter: blur(10px);
        border-top: 1px solid #333;
        display:flex;justify-content:space-around;align-items:center;
        z-index:900;
        padding-bottom: 5px;
    }
    .tab-bar div {color:var(--color-text-secondary);cursor:pointer;font-size:26px;text-align:center;transition: color 0.2s;}
    .tab-bar .active {color: var(--color-primary);}
  </style>
</head>
<body>

<div id="login" class="screen">
  <div class="login-box">
    <h1 style="color:var(--color-primary);font-size:2.8em;font-weight:900;">Ryzn Portal</h1>
    <p style="color:var(--color-text-secondary);margin-top:-15px;margin-bottom:30px;">Accesso Artista Centralizzato</p>
    
    <input id="code" class="login-input" placeholder="Codice artista (Ryzn1234)">
    <button id="btnLogin" class="btn btn-primary">Accedi</button>
    
    <div class="countdown-container">
        <div class="countdown-text">Lancio Piattaforma Legacy:</div>
        <div id="countdown"></div>
    </div>
    
    <button id="btnLegacy" class="btn btn-secondary" style="margin-top:10px;">Login Platform Legacy</button>
  </div>
</div>

<div id="stats" class="screen">
  <h2>Riepilogo Prestazioni üìà</h2>

  <div class="data-card">
    <h3>Metriche Chiave Q4 (Inverno 2025)</h3>
    <div style="display:flex;justify-content:space-around;margin-bottom:15px;text-align:center;">
        <div>Ascolti Mensili: <span class="metric" style="color:var(--color-winter);">450K</span><p class="sub-metric">+18% vs Ottobre</p></div>
        <div>Tasso Ritenzione: <span class="metric" style="color:var(--color-success);">68%</span><p class="sub-metric">Media: 34s</p></div>
        <div>Nuovi Followers: <span class="metric" style="color:var(--color-chart-2);">3.1K</span><p class="sub-metric">+450 questa settimana</p></div>
    </div>
  </div>

  <div class="data-card">
    <h3>Trend Ascolti (Ultimi 6 Mesi)</h3>
    <div class="chart-container">
        <div class="line-chart-sim"><div class="line-segment"></div></div>
    </div>
    <div style="display:flex;justify-content:space-around;margin-top:5px;padding-top:10px;font-size:0.8em;color:var(--color-text-secondary);">Mag | Lug | Set | Nov</div>
  </div>
  
  <div class="data-card">
    <h3>Top Tracce per Stream (Mese)</h3>
    <table class="table-data">
        <thead><tr><th>#</th><th>Traccia</th><th>Streams</th><th>\%</th></tr></thead>
        <tbody>
            <tr><td>1</td><td>Frozen Code üßä</td><td>185K</td><td style="color:var(--color-success);">41%</td></tr>
            <tr><td>2</td><td>Binary Battlefield</td><td>92K</td><td style="color:var(--color-warning);">20%</td></tr>
            <tr><td>3</td><td>Shutdown</td><td>78K</td><td style="color:var(--color-chart-2);">17%</td></tr>
            <tr><td>4</td><td>Glitch (ft. K.)</td><td>50K</td><td style="color:var(--color-chart-3);">11%</td></tr>
        </tbody>
    </table>
  </div>
</div>

<div id="global" class="screen">
    <h2>Andamento Globale üåç</h2>

    <div class="data-card">
        <h3>Distribuzione Geografica Stream (Totale)</h3>
        <div style="display:flex;align-items:center;justify-content:space-between;">
            <div class="pie-chart-sim" style="background-image: conic-gradient(var(--color-primary) 0 40%, var(--color-chart-2) 40% 65%, var(--color-chart-3) 65% 85%, var(--color-chart-4) 85% 100%);"></div>
            <ul class="pie-legend">
                <li><span class="legend-color" style="background: var(--color-primary);"></span> Italia (40%)</li>
                <li><span class="legend-color" style="background: var(--color-chart-2);"></span> Germania (25%)</li>
                <li><span class="legend-color" style="background: var(--color-chart-3);"></span> Francia (20%)</li>
                <li><span class="legend-color" style="background: var(--color-chart-4);"></span> Altro (15%)</li>
            </ul>
        </div>
    </div>

    <div class="data-card">
        <h3>Top 10 Nazioni (Ultimi 90 giorni)</h3>
        <table class="table-data">
            <thead><tr><th>#</th><th>Paese</th><th>Ascolti</th><th>Costo/1000</th></tr></thead>
            <tbody>
                <tr><td>1</td><td>üáÆüáπ Italia</td><td>1.2M</td><td style="color:var(--color-success);">$3.80</td></tr>
                <tr><td>2</td><td>üá©üá™ Germania</td><td>350K</td><td style="color:var(--color-success);">$4.10</td></tr>
                <tr><td>3</td><td>üá´üá∑ Francia</td><td>290K</td><td style="color:var(--color-warning);">$3.55</td></tr>
                <tr><td>4</td><td>üá∫üá∏ USA</td><td>190K</td><td style="color:var(--color-success);">$5.20</td></tr>
                <tr><td>5</td><td>üá®üá≠ Svizzera</td><td>180K</td><td style="color:var(--color-success);">$6.10</td></tr>
                <tr><td>6</td><td>üá¨üáß UK</td><td>150K</td><td style="color:var(--color-warning);">$3.90</td></tr>
                <tr><td>7</td><td>üá™üá∏ Spagna</td><td>110K</td><td style="color:var(--color-error);">$2.90</td></tr>
                <tr><td>8</td><td>üáßüá∑ Brasile</td><td>80K</td><td style="color:var(--color-error);">$0.95</td></tr>
                <tr><td>9</td><td>üá®üá¶ Canada</td><td>65K</td><td style="color:var(--color-success);">$4.50</td></tr>
                <tr><td>10</td><td>üáØüáµ Giappone</td><td>40K</td><td style="color:var(--color-success);">$4.90</td></tr>
            </tbody>
        </table>
    </div>
    
    <div class="data-card">
        <h3>Ascolti Continentali (Q4)</h3>
        <div style="display:flex;justify-content:space-around;margin-bottom:5px;text-align:center;">
            <div>Europa: <span class="metric" style="font-size:1.5em;">78%</span></div>
            <div>Nord America: <span class="metric" style="font-size:1.5em;">14%</span></div>
            <div>Altro: <span class="metric" style="font-size:1.5em;">8%</span></div>
        </div>
    </div>
</div>

<div id="uploads" class="screen">
  <h2>Caricamenti & Distribuzione üíø</h2>

  <div class="data-card">
    <h3>Prossime Uscite Dettagliate</h3>
    <div class="timeline-item" style="border-left-color:var(--color-winter);">
        <div class="timeline-title">Single "Frozen Code" üßä</div>
        <div class="timeline-meta">**Distribuzione (20/12/2025)** | ISRC Assegnato: FRZNCDE001 | 15 Piattaforme OK.</div>
    </div>
    <div class="timeline-item" style="border-left-color:var(--color-warning);">
        <div class="timeline-title">EP "Winter Flow" (Remixes)</div>
        <div class="timeline-meta">**In Revisione Finale** | Artwork 90%. | 6 Tracce | Stato Metadati: Completi.</div>
    </div>
  </div>

  <div class="data-card">
    <h3>Rapporto Errori/Ritardi (Ultimo Mese)</h3>
    <table class="table-data">
        <thead><tr><th>Tipo</th><th>Conteggio</th><th>Risolto</th></tr></thead>
        <tbody>
            <tr><td>Metadata Incompleti</td><td>1</td><td style="color:var(--color-success);">S√¨</td></tr>
            <tr><td>Ritardo Piattaforma (TikTok)</td><td>1</td><td style="color:var(--color-warning);">In Attesa</td></tr>
            <tr><td>Reclamo Contenuto</td><td>0</td><td>N/A</td></tr>
        </tbody>
    </table>
  </div>
</div>

<div id="earnings" class="screen">
  <h2>Pagamenti & Finanze üí∞</h2>

  <div class="data-card">
    <h3>Riepilogo Finanziario (Stime Q4)</h3>
    <div style="display:flex;justify-content:space-around;margin-bottom:15px;text-align:center;">
        <div>Saldo Disponibile: <span class="metric">‚Ç¨345.88</span><p class="sub-metric">Fondo residuo T4</p></div>
        <div>Proiezione Payout Totale Q4: <span class="metric" style="color:var(--color-winter);">‚Ç¨1,850</span><p class="sub-metric">Fatturato Netto</p></div>
    </div>
  </div>
  
  <div class="data-card">
      <h3>Suddivisione Guadagni per Fonte (Ultimo Payout)</h3>
      <div style="display:flex;align-items:center;justify-content:space-between;">
        <div class="pie-chart-sim" style="background-image: conic-gradient(var(--color-primary) 0 70%, var(--color-chart-2) 70% 85%, var(--color-chart-3) 85% 100%);"></div>
        <ul class="pie-legend">
            <li><span class="legend-color" style="background: var(--color-primary);"></span> Streaming Tier 1 (70%)</li>
            <li><span class="legend-color" style="background: var(--color-chart-2);"></span> Streaming Tier 2 (15%)</li>
            <li><span class="legend-color" style="background: var(--color-chart-3);"></span> Licenze/Altro (15%)</li>
        </ul>
      </div>
  </div>

  <div class="data-card">
    <h3>Dettagli Tassi di Paga Medi (RPMS)</h3>
    <table class="table-data">
        <thead><tr><th>Fonte</th><th>RPM ($)</th><th>$\Delta$ Mese</th></tr></thead>
        <tbody>
            <tr><td>Spotify Premium</td><td style="color:var(--color-success);">$4.30</td><td>+0.15</td></tr>
            <tr><td>Apple Music</td><td style="color:var(--color-success);">$5.10</td><td>-0.05</td></tr>
            <tr><td>YouTube Content ID</td><td style="color:var(--color-warning);">$2.50</td><td>+0.40</td></tr>
        </tbody>
    </table>
  </div>
</div>

<div id="profile" class="screen">
  <h2>Impostazioni Profilo üë§</h2>

  <div class="data-card">
    <h3>Dettagli Artista (ID e Ruoli)</h3>
    <table class="table-data">
        <tbody>
            <tr><td>**Nome Scena**</td><td>Ryzn</td></tr>
            <tr><td>**Codice Artista**</td><td>Ryzn1234</td></tr>
            <tr><td>**Ruolo Account**</td><td>Amministratore Principale</td></tr>
            <tr><td>**ID Utente Piattaforma**</td><td>9876-0001-XYZ</td></tr>
            <tr><td>**Licenza Contenuti**</td><td>Standard (CC BY-SA)</td></tr>
        </tbody>
    </table>
  </div>

  <div class="data-card">
    <h3>Configurazione Pagamenti</h3>
    <p><strong>Metodo Predefinito:</strong> Bonifico Bancario</p>
    <p><strong>IBAN Finale:</strong> *** **9876 (Verificato)</p>
    <p><strong>Soglia Minima Payout:</strong> ‚Ç¨100.00</p>
    <p><strong>Frequenza:</strong> Trimestrale (Net-45)</p>
  </div>
  
  <div class="data-card">
      <h3>Sicurezza e Accesso</h3>
      <p style="color:var(--color-text-secondary);">Autenticazione a due fattori: <strong style="color:var(--color-success);">Attiva (SMS)</strong></p>
      <p style="color:var(--color-text-secondary);">Ultimo Cambio Password: 60 giorni fa</p>
      <p style="color:var(--color-text-secondary);">Accessi Sospetti: **0** (Ultimi 30 giorni)</p>
  </div>

  <button id="btnLogout" class="btn btn-primary" style="background:var(--color-error);">Esci dal Portale</button>
</div>

<div id="tabs" class="tab-bar">
  <div data-target="stats" class="active">üìà</div>
  <div data-target="global">üåç</div> 
  <div data-target="uploads">üíø</div>
  <div data-target="earnings">üí∞</div>
  <div data-target="profile">üë§</div>
</div>

<div id="overlayLegacyCountdown">
    <div class="legacy-box">
        <h3 style="color:var(--color-primary); font-size: 1.5em; margin-bottom: 5px;">Lancio Piattaforma Legacy</h3>
        <p style="color:var(--color-text-secondary);">Data di attivazione in sola lettura:</p>
        <div id="countdownLegacy"></div>
        <p style="color:var(--color-text-secondary); font-size: 0.9em;">**1¬∞ Dicembre 2025**</p>
        <button id="btnCloseLegacy" class="btn btn-primary legacy-close-btn">Torna al Login</button>
    </div>
</div>

<script>
// 1. INIZIALIZZAZIONE VARIABILI DOM
const btnLogin = document.getElementById("btnLogin");
const btnLegacy = document.getElementById("btnLegacy");
const btnLogout = document.getElementById("btnLogout");
const screens = document.querySelectorAll(".screen");
const tabs = document.getElementById("tabs");
const countdownLogin = document.getElementById("countdown");
const overlayCountdown = document.getElementById("overlayLegacyCountdown");
const countdownLegacy = document.getElementById("countdownLegacy");
const btnCloseLegacy = document.getElementById("btnCloseLegacy");

let countdownInterval;

// 2. FUNZIONI UTILITY

function show(id){
  screens.forEach(s => s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

// Funzione per il conto alla rovescia (Riutilizzata per i due elementi)
function updateCountdown(element) {
    const target = new Date("2025-12-01T00:00:00").getTime();
    
    // Funzione principale di update
    const tick = () => {
        const now = new Date().getTime();
        const diff = target - now;
        
        if(diff <= 0){
            element.textContent = "DISPONIBILE ORA!";
            if (element === countdownLogin) clearInterval(countdownInterval);
            return;
        }
        
        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const s = Math.floor((diff % (1000 * 60)) / 1000);
        
        const format = val => String(val).padStart(2, '0');
        element.textContent = `${format(d)}g : ${format(h)}h : ${format(m)}m : ${format(s)}s`;
    };
    
    tick();

    // Gestione dell'intervallo per la pagina di Login
    if (element === countdownLogin && !countdownInterval) {
        countdownInterval = setInterval(tick, 1000);
    } 
    // Gestione dell'intervallo per l'Overlay
    else if (element === countdownLegacy) {
        // Pulisce l'intervallo esistente (se attivo) per non avere due intervalli contemporanei che aggiornano l'overlay
        if(element.intervalId) clearInterval(element.intervalId);
        element.intervalId = setInterval(tick, 1000);
    }
}

// 3. GESTIONE EVENTI

// Evento: Click su "Accedi" (Accesso Diretto per Demo)
btnLogin.onclick = () => {
  show("stats");
  tabs.style.display = "flex"; 
};

// Evento: Click su "Login Platform Legacy" (Mostra il Countdown Grande)
btnLegacy.onclick = () => {
  overlayCountdown.style.display = "flex";
  updateCountdown(countdownLegacy); // Avvia il countdown specifico sull'overlay
};

// Evento: Click su "Torna al Login" (Chiude l'Overlay)
btnCloseLegacy.onclick = () => {
  overlayCountdown.style.display = "none";
  // Quando chiudiamo, riattiviamo il countdown sulla pagina di login
  updateCountdown(countdownLogin); 
}

// Evento: Click su "Esci"
btnLogout.onclick = () => {
  tabs.style.display = "none";
  show("login");
  // Riavvia il countdown sulla pagina di login
  updateCountdown(countdownLogin);
};

// Evento: Click sulle Tab (navigazione)
tabs.querySelectorAll("div").forEach(t => {
  t.onclick = () => {
    tabs.querySelectorAll("div").forEach(x => x.classList.remove("active"));
    t.classList.add("active");
    show(t.dataset.target);
  };
});

// 4. GESTIONE INIZIALIZZAZIONE
document.addEventListener('DOMContentLoaded', () => {
    show("login");
    tabs.style.display = "none";
    // Avvia il countdown sulla pagina di Login all'avvio
    updateCountdown(countdownLogin);
});
</script>

<script>
if ("serviceWorker" in navigator) {
  window.addEventListener("load", () => {
    navigator.serviceWorker
      .register("service-worker.js")
      .then(() => console.log("‚úÖ Service Worker registrato!"))
      .catch(err => console.error("‚ùå Errore SW:", err));
  });
}
</script>
</body>
</html>
